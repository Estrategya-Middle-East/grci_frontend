  <p-table 
  [value]="storageLocationService.storageLocationItemsSignal()"
  [tableStyle]="{'min-width': '50rem'}"
  styleClass="p-datatable-sm">

  <!-- ✅ Header -->
  <ng-template pTemplate="header">
    <tr class="table-header-row">
      @for (headerText of storageLocationService.storageLocationHeaderSignal(); track $index) {
        <th class="table-header-cell">{{ headerText.header }}</th>
      }
    </tr>
  </ng-template>

  <!-- ✅ Body -->
 <ng-template pTemplate="body" let-row>
  <tr>
    <ng-container *ngFor="let headerText of storageLocationService.storageLocationHeaderSignal(); let i = index">
      <td class="table-cell-link">

        <!-- Action column -->
        <ng-container *ngIf="headerText.header.toLowerCase() === 'action' || headerText.header.toLowerCase() === 'actions'">
          <ng-container
            *ngIf="actionsTemplate"
            [ngTemplateOutlet]="actionsTemplate"
            [ngTemplateOutletContext]="{ $implicit: row }">
          </ng-container>
        </ng-container>

        <!-- Default column (show check/cross) -->
        <ng-container *ngIf="headerText.header === 'Set As Default'">
          <i
            class="pi"
            [ngClass]="row[headerText.field] ? 'pi-check-circle text-success' : 'pi-times-circle text-danger'">
          </i>
        </ng-container>

        <!-- Other columns -->
        <ng-container *ngIf="headerText.header.toLowerCase() !== 'action' 
                             && headerText.header.toLowerCase() !== 'actions' 
                             && headerText.header !== 'Set As Default'">
          {{ row[headerText.field] }}
        </ng-container>

      </td>
    </ng-container>
  </tr>
</ng-template>
</p-table>
 
<app-custom-paginator
  [pagination]="{
    pageNumber: storageLocationService.pagination().pageNumber,
    pageSize: storageLocationService.pagination().pageSize,
    totalItems: storageLocationService.totalItems()
  }"
  (pageNumber)="loadControls($event)">
</app-custom-paginator>
