<p-table [value]="customers">
  <ng-template pTemplate="header">
    <tr>
      <th *ngFor="let col of columns" (click)="enableSearch(col.field)">
        @switch (col?.filters?.type) { @case ('search') {
        <ng-container *ngIf="!isSearching[col.field]; else searchField">
          <span class="cursor-pointer d-block">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="18"
              viewBox="0 0 20 18"
              fill="none"
            >
              <path
                d="M14.068 11.2549H13.2122L12.9089 10.9849C13.9705 9.84488 14.6097 8.36488 14.6097 6.75488C14.6097 3.16488 11.4572 0.254883 7.56803 0.254883C3.67887 0.254883 0.526367 3.16488 0.526367 6.75488C0.526367 10.3449 3.67887 13.2549 7.56803 13.2549C9.3122 13.2549 10.9155 12.6649 12.1505 11.6849L12.443 11.9649V12.7549L17.8597 17.7449L19.4739 16.2549L14.068 11.2549ZM7.56803 11.2549C4.87053 11.2549 2.69303 9.24488 2.69303 6.75488C2.69303 4.26488 4.87053 2.25488 7.56803 2.25488C10.2655 2.25488 12.443 4.26488 12.443 6.75488C12.443 9.24488 10.2655 11.2549 7.56803 11.2549Z"
                fill="#222222"
              />
            </svg>
            {{ col.header }}
          </span>
        </ng-container>
        <ng-template #searchField>
          <input
            type="text"
            [placeholder]="col.header"
            pInputText
            [(ngModel)]="filters[col.field]"
            (ngModelChange)="
              filterTable({
                searchType: col.filters.searchType,
                field: col.field
              })
            "
            autofocus
          />
        </ng-template>
        } @case ('dropdown') {
        <div class="dropdownList">
          <div class="searchDropdown">
            <p-select
              [options]="col?.filters?.list"
              [(ngModel)]="col.filters.selected"
              (onChange)="onDropdownChange(col?.filters)"
              [optionLabel]="col?.filters.optionLabel"
              [placeholder]="col?.filters.label"
              [appendTo]="'body'"
              class="w-full"
            />
          </div>
        </div>
        } @default {
        <ng-container>
          {{ col.header }}
        </ng-container>
        } }
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-row>
    <tr>
      <td *ngFor="let col of columns">
        @if (col.field === 'organizationName') {
        <img
          [src]="row[col.field]?.path"
          width="32"
          height="32"
          [alt]="row[col.field]?.name"
        />
        <span class="text">{{ row[col.field]?.name }}</span>
        } @else { @if(col.field === 'actions') {
        <div ngbDropdown container="body" class="d-inline-block">
          <button
            type="button"
            class="list-dropdown"
            id="dropdownBasic1"
            ngbDropdownToggle
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="41"
              height="32"
              viewBox="0 0 41 32"
              fill="none"
            >
              <rect
                width="41"
                height="32"
                rx="5"
                fill="#1E87F0"
                fill-opacity="0.2"
              />
              <path
                d="M17.5312 10.75C17.5312 10.5925 17.5938 10.4415 17.7052 10.3302C17.8165 10.2188 17.9675 10.1562 18.125 10.1562H27.0312C27.1887 10.1562 27.3397 10.2188 27.4511 10.3302C27.5624 10.4415 27.625 10.5925 27.625 10.75C27.625 10.9075 27.5624 11.0585 27.4511 11.1698C27.3397 11.2812 27.1887 11.3438 27.0312 11.3438H18.125C17.9675 11.3438 17.8165 11.2812 17.7052 11.1698C17.5938 11.0585 17.5312 10.9075 17.5312 10.75ZM27.0312 14.9062H18.125C17.9675 14.9062 17.8165 14.9688 17.7052 15.0802C17.5938 15.1915 17.5312 15.3425 17.5312 15.5C17.5312 15.6575 17.5938 15.8085 17.7052 15.9198C17.8165 16.0312 17.9675 16.0938 18.125 16.0938H27.0312C27.1887 16.0938 27.3397 16.0312 27.4511 15.9198C27.5624 15.8085 27.625 15.6575 27.625 15.5C27.625 15.3425 27.5624 15.1915 27.4511 15.0802C27.3397 14.9688 27.1887 14.9062 27.0312 14.9062ZM27.0312 19.6562H18.125C17.9675 19.6562 17.8165 19.7188 17.7052 19.8302C17.5938 19.9415 17.5312 20.0925 17.5312 20.25C17.5312 20.4075 17.5938 20.5585 17.7052 20.6698C17.8165 20.7812 17.9675 20.8438 18.125 20.8438H27.0312C27.1887 20.8438 27.3397 20.7812 27.4511 20.6698C27.5624 20.5585 27.625 20.4075 27.625 20.25C27.625 20.0925 27.5624 19.9415 27.4511 19.8302C27.3397 19.7188 27.1887 19.6562 27.0312 19.6562ZM15.1562 10.1562H13.9688C13.8113 10.1562 13.6603 10.2188 13.5489 10.3302C13.4376 10.4415 13.375 10.5925 13.375 10.75C13.375 10.9075 13.4376 11.0585 13.5489 11.1698C13.6603 11.2812 13.8113 11.3438 13.9688 11.3438H15.1562C15.3137 11.3438 15.4647 11.2812 15.5761 11.1698C15.6874 11.0585 15.75 10.9075 15.75 10.75C15.75 10.5925 15.6874 10.4415 15.5761 10.3302C15.4647 10.2188 15.3137 10.1562 15.1562 10.1562ZM15.1562 14.9062H13.9688C13.8113 14.9062 13.6603 14.9688 13.5489 15.0802C13.4376 15.1915 13.375 15.3425 13.375 15.5C13.375 15.6575 13.4376 15.8085 13.5489 15.9198C13.6603 16.0312 13.8113 16.0938 13.9688 16.0938H15.1562C15.3137 16.0938 15.4647 16.0312 15.5761 15.9198C15.6874 15.8085 15.75 15.6575 15.75 15.5C15.75 15.3425 15.6874 15.1915 15.5761 15.0802C15.4647 14.9688 15.3137 14.9062 15.1562 14.9062ZM15.1562 19.6562H13.9688C13.8113 19.6562 13.6603 19.7188 13.5489 19.8302C13.4376 19.9415 13.375 20.0925 13.375 20.25C13.375 20.4075 13.4376 20.5585 13.5489 20.6698C13.6603 20.7812 13.8113 20.8438 13.9688 20.8438H15.1562C15.3137 20.8438 15.4647 20.7812 15.5761 20.6698C15.6874 20.5585 15.75 20.4075 15.75 20.25C15.75 20.0925 15.6874 19.9415 15.5761 19.8302C15.4647 19.7188 15.3137 19.6562 15.1562 19.6562Z"
                fill="#1E87F0"
              />
            </svg>
          </button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <button ngbDropdownItem (click)="navigateToView(row.id)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <path
                  d="M1.15894 6.31738L2.8256 7.98405"
                  stroke="#717171"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M6.16162 3.17676L7.16161 5.26009"
                  stroke="#717171"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M9.99992 16.4996C16.2499 16.4996 19.1666 10.6663 19.1666 10.6663C19.1666 10.6663 16.2499 4.83301 9.99992 4.83301C3.74992 4.83301 0.833252 10.6663 0.833252 10.6663C0.833252 10.6663 3.74992 16.4996 9.99992 16.4996Z"
                  stroke="#717171"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M18.8412 6.31738L17.1746 7.98405"
                  stroke="#717171"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M13.8384 3.17676L12.8384 5.26009"
                  stroke="#717171"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M10 13.083C11.3807 13.083 12.5 11.9637 12.5 10.583C12.5 9.20228 11.3807 8.08301 10 8.08301C8.61925 8.08301 7.5 9.20228 7.5 10.583C7.5 11.9637 8.61925 13.083 10 13.083Z"
                  stroke="#717171"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              View
            </button>
            <button ngbDropdownItem (click)="navigateToView(row.id)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <path
                  d="M14.9417 2.48047C14.2874 2.48047 13.6331 2.73438 13.1252 3.24219L3.24243 13.125L3.20337 13.3203L2.51978 16.7578L2.32446 17.6758L3.24243 17.4805L6.67993 16.7969L6.87524 16.7578L16.7581 6.875C17.7737 5.85938 17.7737 4.25781 16.7581 3.24219C16.2502 2.73438 15.5959 2.48047 14.9417 2.48047ZM14.9417 3.67188C15.2566 3.67188 15.574 3.81592 15.8792 4.12109C16.4871 4.729 16.4871 5.38818 15.8792 5.99609L15.4299 6.42578L13.5745 4.57031L14.0042 4.12109C14.3093 3.81592 14.6267 3.67188 14.9417 3.67188ZM12.6956 5.44922L14.551 7.30469L6.99243 14.8633C6.58228 14.0625 5.93774 13.418 5.13696 13.0078L12.6956 5.44922ZM4.33618 14.0234C5.08569 14.3262 5.67407 14.9146 5.97681 15.6641L3.92603 16.0742L4.33618 14.0234Z"
                  fill="#717171"
                />
              </svg>
              Edit
            </button>
            <button ngbDropdownItem (click)="openDelete(row)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <path
                  d="M13.3333 5.00033V4.33366C13.3333 3.40024 13.3333 2.93353 13.1517 2.57701C12.9919 2.2634 12.7369 2.00844 12.4233 1.84865C12.0668 1.66699 11.6001 1.66699 10.6667 1.66699H9.33333C8.39991 1.66699 7.9332 1.66699 7.57668 1.84865C7.26308 2.00844 7.00811 2.2634 6.84832 2.57701C6.66667 2.93353 6.66667 3.40024 6.66667 4.33366V5.00033M8.33333 9.58366V13.7503M11.6667 9.58366V13.7503M2.5 5.00033H17.5M15.8333 5.00033V14.3337C15.8333 15.7338 15.8333 16.4339 15.5608 16.9686C15.3212 17.439 14.9387 17.8215 14.4683 18.0612C13.9335 18.3337 13.2335 18.3337 11.8333 18.3337H8.16667C6.76654 18.3337 6.06647 18.3337 5.53169 18.0612C5.06129 17.8215 4.67883 17.439 4.43915 16.9686C4.16667 16.4339 4.16667 15.7338 4.16667 14.3337V5.00033"
                  stroke="#717171"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Delete
            </button>
            <button ngbDropdownItem (click)="openArchived(row)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <g clip-path="url(#clip0_2624_157931)">
                  <path
                    d="M17.4998 3.75H2.49976C2.16824 3.75 1.85029 3.8817 1.61587 4.11612C1.38145 4.35054 1.24976 4.66848 1.24976 5V6.875C1.24976 7.20652 1.38145 7.52446 1.61587 7.75888C1.85029 7.9933 2.16824 8.125 2.49976 8.125V15C2.49976 15.3315 2.63145 15.6495 2.86587 15.8839C3.10029 16.1183 3.41824 16.25 3.74976 16.25H16.2498C16.5813 16.25 16.8992 16.1183 17.1336 15.8839C17.3681 15.6495 17.4998 15.3315 17.4998 15V8.125C17.8313 8.125 18.1492 7.9933 18.3836 7.75888C18.6181 7.52446 18.7498 7.20652 18.7498 6.875V5C18.7498 4.66848 18.6181 4.35054 18.3836 4.11612C18.1492 3.8817 17.8313 3.75 17.4998 3.75ZM16.2498 15H3.74976V8.125H16.2498V15ZM17.4998 6.875H2.49976V5H17.4998V6.875ZM7.49976 10.625C7.49976 10.4592 7.5656 10.3003 7.68281 10.1831C7.80002 10.0658 7.959 10 8.12476 10H11.8748C12.0405 10 12.1995 10.0658 12.3167 10.1831C12.4339 10.3003 12.4998 10.4592 12.4998 10.625C12.4998 10.7908 12.4339 10.9497 12.3167 11.0669C12.1995 11.1842 12.0405 11.25 11.8748 11.25H8.12476C7.959 11.25 7.80002 11.1842 7.68281 11.0669C7.5656 10.9497 7.49976 10.7908 7.49976 10.625Z"
                    fill="#717171"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_2624_157931">
                    <rect width="20" height="20" fill="white" />
                  </clipPath>
                </defs>
              </svg>
              Archive
            </button>
            <button ngbDropdownItem (click)="navigateToStrategies(row.id)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="21"
                height="21"
                viewBox="0 0 21 21"
                fill="none"
              >
                <g clip-path="url(#clip0_2624_157945)">
                  <path
                    d="M5.71678 10.967H15.2834V12.7637H16.2168V10.0337H10.9668V8.16699H10.0334V10.0337H4.78345V12.7637H5.71678V10.967Z"
                    fill="#717171"
                  />
                  <path
                    d="M8.16675 13.417H2.33341C2.024 13.417 1.72725 13.5399 1.50846 13.7587C1.28966 13.9775 1.16675 14.2742 1.16675 14.5837V18.0837C1.16675 18.3931 1.28966 18.6898 1.50846 18.9086C1.72725 19.1274 2.024 19.2503 2.33341 19.2503H8.16675C8.47617 19.2503 8.77291 19.1274 8.99171 18.9086C9.2105 18.6898 9.33342 18.3931 9.33342 18.0837V14.5837C9.33342 14.2742 9.2105 13.9775 8.99171 13.7587C8.77291 13.5399 8.47617 13.417 8.16675 13.417ZM2.33341 18.0837V14.5837H8.16675V18.0837H2.33341Z"
                    fill="#717171"
                  />
                  <path
                    d="M18.6667 13.417H12.8334C12.524 13.417 12.2272 13.5399 12.0085 13.7587C11.7897 13.9775 11.6667 14.2742 11.6667 14.5837V18.0837C11.6667 18.3931 11.7897 18.6898 12.0085 18.9086C12.2272 19.1274 12.524 19.2503 12.8334 19.2503H18.6667C18.9762 19.2503 19.2729 19.1274 19.4917 18.9086C19.7105 18.6898 19.8334 18.3931 19.8334 18.0837V14.5837C19.8334 14.2742 19.7105 13.9775 19.4917 13.7587C19.2729 13.5399 18.9762 13.417 18.6667 13.417ZM12.8334 18.0837V14.5837H18.6667V18.0837H12.8334Z"
                    fill="#717171"
                  />
                  <path
                    d="M7.58341 7.58333H13.4167C13.7262 7.58333 14.0229 7.46042 14.2417 7.24162C14.4605 7.02283 14.5834 6.72609 14.5834 6.41667V2.91667C14.5834 2.60725 14.4605 2.3105 14.2417 2.09171C14.0229 1.87292 13.7262 1.75 13.4167 1.75H7.58341C7.274 1.75 6.97725 1.87292 6.75846 2.09171C6.53966 2.3105 6.41675 2.60725 6.41675 2.91667V6.41667C6.41675 6.72609 6.53966 7.02283 6.75846 7.24162C6.97725 7.46042 7.274 7.58333 7.58341 7.58333ZM7.58341 2.91667H13.4167V6.41667H7.58341V2.91667Z"
                    fill="#717171"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_2624_157945">
                    <rect width="21" height="21" fill="white" />
                  </clipPath>
                </defs>
              </svg>
              Organization Strategy
            </button>
          </div>
        </div>
        } @else {
        {{ row[col.field] }}
        } }
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <td colspan="5">
      <div
        class="container-empty-data w-100 d-flex justify-content-center align-items-center"
      >
        <svg
          width="65"
          height="40"
          viewBox="0 0 65 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_1920_5847)">
            <rect
              width="64"
              height="40"
              transform="translate(0.5)"
              fill="white"
              fill-opacity="0.01"
            />
            <path
              d="M32.5 39.7047C50.1731 39.7047 64.5 36.5939 64.5 32.7566C64.5 28.9193 50.1731 25.8086 32.5 25.8086C14.8269 25.8086 0.5 28.9193 0.5 32.7566C0.5 36.5939 14.8269 39.7047 32.5 39.7047Z"
              fill="#F5F5F5"
            />
            <path
              d="M55.5 13.6653L45.354 2.24866C44.867 1.47048 44.156 1 43.407 1H21.593C20.844 1 20.133 1.47048 19.646 2.24767L9.5 13.6663V22.8367H55.5V13.6653Z"
              stroke="#CED4DA"
            />
            <path
              d="M42.113 16.8116C42.113 15.2185 43.107 13.9033 44.34 13.9023H55.5V31.9047C55.5 34.0119 54.18 35.739 52.55 35.739H12.45C10.82 35.739 9.5 34.011 9.5 31.9047V13.9023H20.66C21.893 13.9023 22.887 15.2155 22.887 16.8086V16.8304C22.887 18.4235 23.892 19.7099 25.124 19.7099H39.876C41.108 19.7099 42.113 18.4116 42.113 16.8185V16.8116Z"
              fill="#FAFAFA"
              stroke="#CED4DA"
            />
          </g>
          <defs>
            <clipPath id="clip0_1920_5847">
              <rect
                width="64"
                height="40"
                fill="white"
                transform="translate(0.5)"
              />
            </clipPath>
          </defs>
        </svg>
        <span class="empty-table f-s-16">No Data</span>
      </div>
    </td>
  </ng-template>
</p-table>
<ng-template #content let-c="close" let-d="dismiss">
  <app-delete-item-selected
    (closeOfDialog)="close()"
    [viewData]="viewData"
    (sendOfDialog)="send()"
  >
    @if(viewData?.title?.includes('Delete')) {
    <span class="icon d-flex align-items-center justify-content-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="40"
        height="40"
        viewBox="0 0 40 40"
        fill="none"
      >
        <path
          d="M26.6667 9.99967V8.66634C26.6667 6.7995 26.6667 5.86608 26.3034 5.15304C25.9838 4.52583 25.4738 4.0159 24.8466 3.69632C24.1336 3.33301 23.2002 3.33301 21.3333 3.33301H18.6667C16.7998 3.33301 15.8664 3.33301 15.1534 3.69632C14.5262 4.0159 14.0162 4.52583 13.6966 5.15304C13.3333 5.86608 13.3333 6.7995 13.3333 8.66634V9.99967M16.6667 19.1663V27.4997M23.3333 19.1663V27.4997M5 9.99967H35M31.6667 9.99967V28.6663C31.6667 31.4666 31.6667 32.8667 31.1217 33.9363C30.6423 34.8771 29.8774 35.642 28.9366 36.1214C27.8671 36.6663 26.4669 36.6663 23.6667 36.6663H16.3333C13.5331 36.6663 12.1329 36.6663 11.0634 36.1214C10.1226 35.642 9.35767 34.8771 8.8783 33.9363C8.33333 32.8667 8.33333 31.4666 8.33333 28.6663V9.99967"
          stroke="#222222"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </span>
    } @else {
    <span class="icon d-flex align-items-center justify-content-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="40"
        height="40"
        viewBox="0 0 40 40"
        fill="none"
      >
        <path
          d="M34.9995 7.5H4.99951C4.33647 7.5 3.70059 7.76339 3.23174 8.23223C2.7629 8.70107 2.49951 9.33696 2.49951 10V13.75C2.49951 14.413 2.7629 15.0489 3.23174 15.5178C3.70059 15.9866 4.33647 16.25 4.99951 16.25V30C4.99951 30.663 5.2629 31.2989 5.73174 31.7678C6.20059 32.2366 6.83647 32.5 7.49951 32.5H32.4995C33.1626 32.5 33.7984 32.2366 34.2673 31.7678C34.7361 31.2989 34.9995 30.663 34.9995 30V16.25C35.6626 16.25 36.2984 15.9866 36.7673 15.5178C37.2361 15.0489 37.4995 14.413 37.4995 13.75V10C37.4995 9.33696 37.2361 8.70107 36.7673 8.23223C36.2984 7.76339 35.6626 7.5 34.9995 7.5ZM32.4995 30H7.49951V16.25H32.4995V30ZM34.9995 13.75H4.99951V10H34.9995V13.75ZM14.9995 21.25C14.9995 20.9185 15.1312 20.6005 15.3656 20.3661C15.6 20.1317 15.918 20 16.2495 20H23.7495C24.081 20 24.399 20.1317 24.6334 20.3661C24.8678 20.6005 24.9995 20.9185 24.9995 21.25C24.9995 21.5815 24.8678 21.8995 24.6334 22.1339C24.399 22.3683 24.081 22.5 23.7495 22.5H16.2495C15.918 22.5 15.6 22.3683 15.3656 22.1339C15.1312 21.8995 14.9995 21.5815 14.9995 21.25Z"
          fill="#222222"
        />
      </svg>
    </span>
    } @if(viewData?.title?.includes('Delete')) {
    <p class="m-0 p-0 pargDeleteItem">
      Once you press the <span class="bold">'Confirm Deletion'</span> button,
      the data will be permanently deleted.
    </p>

    } @else {
    <p class="m-0 p-0 pargDeleteItem">
      "Once you press the <span class="bold">'Confirm Archive'</span> button,
      the data will be permanently archived."
    </p>
    }
  </app-delete-item-selected>
</ng-template>
